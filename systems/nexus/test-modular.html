<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试模块化版本</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .success { color: green; }
        .error { color: red; }
        button { padding: 10px 20px; margin: 5px; }
    </style>
</head>
<body>
    <h1>NEXUS 模块化版本测试</h1>
    
    <div class="test-section">
        <h2>文件加载测试</h2>
        <div id="css-test">CSS文件: <span id="css-status">检测中...</span></div>
        <div id="js-test">JavaScript文件: <span id="js-status">检测中...</span></div>
    </div>
    
    <div class="test-section">
        <h2>功能测试</h2>
        <button onclick="testShowPage()">测试页面切换</button>
        <button onclick="testI18n()">测试国际化</button>
        <div id="function-results"></div>
    </div>
    
    <div class="test-section">
        <h2>对比链接</h2>
        <a href="index.html" target="_blank">原始版本 (7156行)</a> | 
        <a href="index-modular-original.html" target="_blank">模块化版本</a>
    </div>

    <script>
        // 测试CSS加载
        function testCSS() {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'assets/css/nexus-original.css';
            link.onload = () => {
                document.getElementById('css-status').innerHTML = '<span class="success">✓ 加载成功</span>';
            };
            link.onerror = () => {
                document.getElementById('css-status').innerHTML = '<span class="error">✗ 加载失败</span>';
            };
            document.head.appendChild(link);
        }
        
        // 测试JavaScript加载
        function testJS() {
            const script = document.createElement('script');
            script.src = 'assets/js/nexus-original.js';
            script.onload = () => {
                document.getElementById('js-status').innerHTML = '<span class="success">✓ 加载成功</span>';
            };
            script.onerror = () => {
                document.getElementById('js-status').innerHTML = '<span class="error">✗ 加载失败</span>';
            };
            document.head.appendChild(script);
        }
        
        function testShowPage() {
            const results = document.getElementById('function-results');
            if (typeof showPage === 'function') {
                results.innerHTML += '<div class="success">✓ showPage函数存在</div>';
            } else {
                results.innerHTML += '<div class="error">✗ showPage函数不存在</div>';
            }
        }
        
        function testI18n() {
            const results = document.getElementById('function-results');
            if (typeof i18n !== 'undefined') {
                results.innerHTML += '<div class="success">✓ i18n变量存在</div>';
            } else {
                results.innerHTML += '<div class="error">✗ i18n变量不存在</div>';
            }
        }
        
        // 页面加载时运行测试
        window.onload = function() {
            testCSS();
            testJS();
        };
    </script>
</body>
</html>