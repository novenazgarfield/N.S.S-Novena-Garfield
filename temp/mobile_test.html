<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“± æ‰‹æœºè®¿é—®æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            text-align: center;
        }
        
        .card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .status {
            font-size: 1.2rem;
            margin: 20px 0;
        }
        
        .link-card {
            background: rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            text-decoration: none;
            color: white;
            display: block;
            transition: all 0.3s ease;
        }
        
        .link-card:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        
        .device-info {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 20px;
        }
        
        .qr-code {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .test-button {
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }
        
        .test-button:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>ğŸ“± RAGæ™ºèƒ½å¯¹è¯</h1>
            <p>æ‰‹æœºè®¿é—®æµ‹è¯•é¡µé¢</p>
            
            <div class="status" id="status">
                ğŸ” æ­£åœ¨æ£€æµ‹è®¾å¤‡...
            </div>
            
            <div class="device-info" id="device-info">
                <!-- è®¾å¤‡ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>
        </div>
        
        <div class="card">
            <h2>ğŸŒ è®¿é—®é“¾æ¥</h2>
            
            <a href="https://que-rising-brief-guild.trycloudflare.com" class="link-card" target="_blank">
                <strong>ğŸš€ ä¸»è¦åœ°å€</strong><br>
                <small>que-rising-brief-guild.trycloudflare.com</small>
            </a>
            
            <div style="margin: 20px 0;">
                <strong>ğŸ” è®¿é—®å¯†ç :</strong> <code style="background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 5px;">rag2024</code>
            </div>
        </div>
        
        <div class="card">
            <h2>ğŸ“‹ äºŒç»´ç æ‰«æ</h2>
            <div class="qr-code">
                <p style="color: #333; margin-bottom: 10px;">æ‰«æä¸‹æ–¹äºŒç»´ç ç›´æ¥è®¿é—®</p>
                <div style="font-size: 100px; line-height: 1;">ğŸ“±</div>
                <p style="color: #666; font-size: 0.8rem;">äºŒç»´ç å›¾ç‰‡: rag_qrcode.png</p>
            </div>
        </div>
        
        <div class="card">
            <h2>ğŸ”§ è¿æ¥æµ‹è¯•</h2>
            
            <button class="test-button" onclick="testConnection()">
                ğŸŒ æµ‹è¯•ç½‘ç»œè¿æ¥
            </button>
            
            <button class="test-button" onclick="testFeatures()">
                ğŸ“± æµ‹è¯•æµè§ˆå™¨åŠŸèƒ½
            </button>
            
            <div id="test-results" style="margin-top: 20px; text-align: left;">
                <!-- æµ‹è¯•ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>
        </div>
        
        <div class="card">
            <h2>ğŸ’¡ ä½¿ç”¨æç¤º</h2>
            <div style="text-align: left; font-size: 0.9rem;">
                <p>âœ… <strong>æ¨èæ“ä½œ:</strong></p>
                <ul>
                    <li>æ·»åŠ åˆ°ä¸»å±å¹•è·å¾—Appä½“éªŒ</li>
                    <li>ä½¿ç”¨æ¨ªå±æ¨¡å¼è·å¾—æ›´å¤§è§†é‡</li>
                    <li>å¯ç”¨æµè§ˆå™¨çš„"æ¡Œé¢ç‰ˆç½‘ç«™"</li>
                </ul>
                
                <p>ğŸ”§ <strong>é‡åˆ°é—®é¢˜:</strong></p>
                <ul>
                    <li>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜é‡è¯•</li>
                    <li>åˆ‡æ¢WiFi/4Gç½‘ç»œ</li>
                    <li>æ›´æ–°æµè§ˆå™¨åˆ°æœ€æ–°ç‰ˆæœ¬</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // æ£€æµ‹è®¾å¤‡ä¿¡æ¯
        function detectDevice() {
            const ua = navigator.userAgent;
            const statusEl = document.getElementById('status');
            const deviceInfoEl = document.getElementById('device-info');
            
            let deviceType = 'ğŸ’» æ¡Œé¢è®¾å¤‡';
            let browser = 'æœªçŸ¥æµè§ˆå™¨';
            let os = 'æœªçŸ¥ç³»ç»Ÿ';
            
            // æ£€æµ‹è®¾å¤‡ç±»å‹
            if (/Mobile|Android|iPhone|iPad/.test(ua)) {
                deviceType = 'ğŸ“± ç§»åŠ¨è®¾å¤‡';
            }
            
            // æ£€æµ‹æµè§ˆå™¨
            if (ua.includes('Chrome')) browser = 'Chrome';
            else if (ua.includes('Safari')) browser = 'Safari';
            else if (ua.includes('Firefox')) browser = 'Firefox';
            else if (ua.includes('Edge')) browser = 'Edge';
            
            // æ£€æµ‹æ“ä½œç³»ç»Ÿ
            if (ua.includes('iPhone')) os = 'iOS';
            else if (ua.includes('Android')) os = 'Android';
            else if (ua.includes('Windows')) os = 'Windows';
            else if (ua.includes('Mac')) os = 'macOS';
            else if (ua.includes('Linux')) os = 'Linux';
            
            statusEl.innerHTML = `âœ… è®¾å¤‡æ£€æµ‹å®Œæˆ`;
            deviceInfoEl.innerHTML = `
                <strong>è®¾å¤‡ç±»å‹:</strong> ${deviceType}<br>
                <strong>æµè§ˆå™¨:</strong> ${browser}<br>
                <strong>æ“ä½œç³»ç»Ÿ:</strong> ${os}<br>
                <strong>å±å¹•å°ºå¯¸:</strong> ${window.innerWidth} Ã— ${window.innerHeight}<br>
                <strong>ç½‘ç»œçŠ¶æ€:</strong> ${navigator.onLine ? 'ğŸŒ åœ¨çº¿' : 'ğŸ“´ ç¦»çº¿'}
            `;
        }
        
        // æµ‹è¯•ç½‘ç»œè¿æ¥
        async function testConnection() {
            const resultsEl = document.getElementById('test-results');
            resultsEl.innerHTML = 'ğŸ” æ­£åœ¨æµ‹è¯•è¿æ¥...';
            
            const tests = [
                {
                    name: 'ä¸»è¦åœ°å€',
                    url: 'https://que-rising-brief-guild.trycloudflare.com',
                    timeout: 5000
                },
                {
                    name: 'æœ¬åœ°æœåŠ¡',
                    url: 'http://localhost:51657',
                    timeout: 3000
                }
            ];
            
            let results = '<strong>ğŸ”— è¿æ¥æµ‹è¯•ç»“æœ:</strong><br><br>';
            
            for (const test of tests) {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), test.timeout);
                    
                    const response = await fetch(test.url, {
                        method: 'HEAD',
                        signal: controller.signal,
                        mode: 'no-cors'
                    });
                    
                    clearTimeout(timeoutId);
                    results += `âœ… ${test.name}: è¿æ¥æˆåŠŸ<br>`;
                } catch (error) {
                    results += `âŒ ${test.name}: è¿æ¥å¤±è´¥ (${error.message})<br>`;
                }
            }
            
            resultsEl.innerHTML = results;
        }
        
        // æµ‹è¯•æµè§ˆå™¨åŠŸèƒ½
        function testFeatures() {
            const resultsEl = document.getElementById('test-results');
            
            const features = [
                { name: 'JavaScript', test: () => true },
                { name: 'LocalStorage', test: () => typeof(Storage) !== 'undefined' },
                { name: 'Fetch API', test: () => typeof(fetch) !== 'undefined' },
                { name: 'Service Worker', test: () => 'serviceWorker' in navigator },
                { name: 'æ–‡ä»¶ä¸Šä¼ ', test: () => typeof(FileReader) !== 'undefined' },
                { name: 'è§¦æ‘¸æ”¯æŒ', test: () => 'ontouchstart' in window },
                { name: 'åœ°ç†ä½ç½®', test: () => 'geolocation' in navigator },
                { name: 'æ‘„åƒå¤´', test: () => 'mediaDevices' in navigator }
            ];
            
            let results = '<strong>ğŸ“± æµè§ˆå™¨åŠŸèƒ½æµ‹è¯•:</strong><br><br>';
            
            features.forEach(feature => {
                const supported = feature.test();
                results += `${supported ? 'âœ…' : 'âŒ'} ${feature.name}: ${supported ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ'}<br>`;
            });
            
            resultsEl.innerHTML = results;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.addEventListener('load', () => {
            detectDevice();
        });
        
        // ç›‘å¬ç½‘ç»œçŠ¶æ€å˜åŒ–
        window.addEventListener('online', () => {
            document.getElementById('status').innerHTML = 'ğŸŒ ç½‘ç»œå·²è¿æ¥';
        });
        
        window.addEventListener('offline', () => {
            document.getElementById('status').innerHTML = 'ğŸ“´ ç½‘ç»œå·²æ–­å¼€';
        });
    </script>
</body>
</html>